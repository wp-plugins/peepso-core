!function(a){a(document).ready(function(){function b(){var b=[],c=[];a.each(a('#peepso_dashboard_user_engagement .tab-pane.active input[name="stats[]"]').serializeArray(),function(a,b){c.push(b.value)}),c=c.join(","),req={date_range:d.val(),module_id:a("#peepso_dashboard_user_engagement .nav-tabs .active").data("module-id"),stats:c},d.attr("disabled","disabled"),$PeepSo.getJson("adminEngagementDashboard.get_graph_data",req,function(c){a.each(c.data.series,function(c,d){d.label=a('#peepso_dashboard_user_engagement .tab-pane.active input[value="'+d.type+'"]').siblings(".lbl").text(),b.push(d)});a.plot("#peepso_dashboard_user_engagement .tab-pane.active .graph-container",b,{yaxis:{min:0},xaxis:{tickDecimals:0,mode:"time",timeformat:"%m/%d",min:c.data.min,max:c.data.max},legend:{labelFormatter:function(a,b){return b.total+" "+a}},series:{lines:{show:!0},points:{show:!0}},grid:{hoverable:!0,clickable:!0}});d.removeAttr("disabled")})}var c=[];a.each(demographic_data,function(a,b){c.push({label:b.label,data:b.value,color:void 0!==b.color?b.color:null})}),a("#demographic-pie").css({width:"90%","min-height":"150px"});var d=(a.plot("#demographic-pie",c,demographic_options),a("#peepso_dashboard_user_engagement .tab-pane.active .engagement_date_range"));d.on("change",b).trigger("change"),a('#peepso_dashboard_user_engagement .tab-pane.active input[name="stats[]"]').on("click",b),a('#peepso_dashboard_user_engagement a[data-toggle="tab"]').on("shown.bs.tab",b)})}(jQuery);